!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.$toast=e()}(this,function(){function t(t){return"undefined"==typeof t}function e(t){return"undefined"!=typeof t}function n(t){return!!t&&(i(t.nodeType)||t===window)}function o(t){return null!==t&&"object"==typeof t}function r(t){return"string"==typeof t}function i(t){return"number"==typeof t}function s(t){return Array.isArray(t)}function a(t){return Array.isArray(t)||o(t)&&i(t.length)&&t.length>-1}function c(t){return"function"==typeof t}function u(){if(null!=window.pageXOffset)return{x:window.pageXOffset,y:window.pageYOffset};var t=window.document;return"CSS1Compat"===document.compatMode?{x:t.documentElement.scrollLeft,y:t.documentElement.scrollTop}:{x:t.body.scrollLeft,y:t.body.scrollTop}}function f(t){var e={};return 3===t.length?(e=t[2],e.text=t[1]):2===t.length&&(o(t[1])?e=t[1]:e.text=t[1]),e.title=t[0],e}function l(t){switch(t){case"top":case"top center":case"center top":t="toast-y-top toast-x-center";break;case"top left":case"left top":t="toast-y-top toast-x-left";break;case"top right":case"right top":t="toast-y-top toast-x-right";break;case"center":case"center center":t="toast-y-center toast-x-center";break;case"left":case"center left":case"left center":t="toast-y-center toast-x-left";break;case"right":case"center right":case"right center":t="toast-y-center toast-x-right";break;case"bottom":case"bottom center":case"center bottom":t="toast-y-bottom toast-x-center";break;case"bottom left":case"left bottom":t="toast-y-bottom toast-x-left";break;case"bottom right":case"right bottom":t="toast-y-bottom toast-x-right";break;default:t="toast-y-bottom toast-x-center"}return t}function h(t){var e=v.findAll(x,function(e){return e.$toast.html()===t.html()});v.each(e,function(t){O.hide(t)})}function d(t,e){var n,o=t.height(),r=y.gap;-1!==e.indexOf("toast-y-top")?(n=w.find(".toast-y-top"),n.each(function(t,e){if(e==n.length-1)return!0;var i=m(t),s=parseFloat(i.css("top"));i.css("top",s+o+r+"px")})):-1!==e.indexOf("toast-y-center")?(n=w.find(".toast-y-center"),n.each(function(t,e){var i=m(t);if(e==n.length-1)i.css("margin-top",-(o/2)+"px");else{var s=parseFloat(i.css("margin-top"));i.css("margin-top",s+o+r+"px")}})):(n=w.find(".toast-y-bottom"),n.each(function(t,e){if(e==n.length-1)return!0;var i=m(t),s=parseFloat(i.css("bottom"));i.css("bottom",s+o+r+"px")}))}var p=/iphone|ipad|android|phone|mobile/.test(window.navigator.userAgent.toLocaleLowerCase()),v={trim:function(t){return r(t)?t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""):t},each:function(t,n){var r;if(a(t)){var i=0,s=t.length;for(i;s>i;i++)r=t[i],e(r)&&n(r,i)}else if(o(t)){var c;for(c in t)t.hasOwnProperty(c)&&(r=t[c],n(r,c))}},some:function(t,n){if(a(t)){var r=0,i=t.length;for(r;i>r;r++)if(e(t[r])&&n(t[r],r))return!0}else if(o(t)){var s;for(s in t)if(t.hasOwnProperty(s)&&n(t[s],s))return!0}return!1},all:function(t,n){var r,i;if(a(t)){var s=0;for(r=t.length,i=0,s;r>s;s++)e(t[s])&&n(t[s],s)&&i++;return i===r}if(o(t)){var c;r=0,i=0;for(c in t)r++,t.hasOwnProperty(c)&&n(t[c],c)&&i++;return i===r}return!1},clone:function(t,e){if(null===t||void 0===t||"object"!=typeof t)return t;var n,o,r=!!e;if(t.constructor===Array){if(r===!1)return t;n=[];for(o in t)n.push(v.clone(t[o],r));return n}n={};for(o in t)n[o]=r?v.clone(t[o],!0):t[o];return n},extend:function(e,n){if(!(o(e)&&o(n)||a(e)&&a(n)))return e;var r=v.clone(e,!0);return v.each(n,function(e,n){t(e)||(r[n]=e)}),r},bind:function(t,e){var n=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments,0);return v.each(o,function(t,e){n[e]=t}),t.apply(e,n)}},contain:function(t,e){if(!o(t)||!o(e))return!1;var n=v.some(e,function(e,n){return e!==t[n]?!0:void 0});return!n},reverseEach:function(t,n){if(!a(t))return!1;for(var o,r=t.length;r--;)o=t[r],e(o)&&n(o,r)},remove:function(e,n){if(t(n)||!s(e))return!1;var o=-1;o=i(n)?n:v.indexOf(e,n),o>-1&&e.splice(o,1)},removeAll:function(e,n){if(t(n))return!1;var o=v.indexOf(e,n);return o>-1?(e.splice(o,1),void v.removeAll(e,n)):!0},indexOf:function(t,e,n){for(var r,i=n||0,s=-1;i<t.length;){if(r=t[i],o(e)){if(v.contain(r,e)){s=i;break}}else if(c(e)){if(e(r,i)){s=i;break}}else if(r===e){s=i;break}i++}return s},find:function(t,e){var n=this.indexOf(t,e);return n>-1?t[n]:void 0},findAll:function(t,e){var n=-1,o=[];do n=this.indexOf(t,e,n+1),n>-1&&o.push(t[n]);while(n>-1);return o}},m=function(){var t=function(t){var e,n=this,o=t.length;for(e=0;o>e;e++)n[e]=t[e];return n.length=t.length,this};return t.prototype={addClass:function(t){return r(t)||s(t)?(r(t)&&(t=v.trim(t).replace(/\s+/," ").split(" ")),this.each(function(e){e.className+=" "+t.join(" ")}),this):this},removeClass:function(t){return r(t)||s(t)?(r(t)&&(t=v.trim(t).replace(/\s+/," ").split(" ")),this.each(function(e){var n=" "+e.className+" ";v.each(t,function(t){t=" "+t+" ",n=n.replace(t," ")}),e.className=v.trim(n)}),this):this},toogleClass:function(t){return r(t)?void this.each(function(e){return-1===e.className.indexOf(t)?!0:void(e.className+=" "+t)}):this},hasClass:function(t){return r(t)?this[0].className.indexOf(t)>-1:!1},css:function(t,e){if(1===arguments.length){if(r(t))return c(getComputedStyle)?getComputedStyle(this[0],null).getPropertyValue(t):this[0].currentStyle[t];o(t)&&this.each(function(e){v.each(t,function(t,n){e.style[n]=t})})}else if(2===arguments.length)return this.each(function(n){n.style[t]=e}),e},width:function(t){return t?(this.css("width",t+"px"),t):parseFloat(this.css("width"))},height:function(t){return t?(this.css("height",t+"px"),t):parseFloat(this.css("height"))},offset:function(){var t=this[0];if(!n(t))return!1;var e=t.getBoundingClientRect();if("fixed"===this.css("position"))return{x:e.left,y:e.top};var o=document.body,r=t.clientTop||o.clientTop||0,i=t.clientLeft||o.clientLeft||0,s=u(),a=s.y||t.scrollTop,c=s.x||t.scrollLeft;return{y:e.top+a-r,x:e.left+c-i}},remove:function(){this.each(function(t){t.parentNode&&t.parentNode.removeChild(t)})},append:function(e){this.each(function(o){if(r(e)){var i=document.createElement("div");for(i.innerHTML=e;i.firstChild;)o.appendChild(i.firstChild)}else n(e)?o.append(e):e instanceof t&&e.each(function(t){o.appendChild(t)})})},html:function(t){return t&&this.each(function(e){e.innerHTML=t}),this[0]&&this[0].innerHTML},hide:function(){this.each(function(t){t.style.display="none"})},show:function(t){this.each(function(e){e.style.display=t||"block"})},each:function(t){var e=0,n=this.length;for(e;n>e;e++)t(this[e],e)},find:function(e){for(var n=[],o=0;o<this.length;o++)for(var r=this[o].querySelectorAll(e),i=0;i<r.length;i++)n.push(r[i]);return new t(n)},transitionEnd:function(t){function e(o){t(o),this.removeEventListener(n,e,!1)}if(!c(t))return!1;var n="webkitTransitionEnd";this.each(function(t){t.addEventListener(n,e,!1)})}},function(e){var o=[],r=0;if(e instanceof t)return e;if("string"==typeof e){var i,s,a=e;if(a.indexOf("<")>=0&&a.indexOf(">")>=0){var c="div";for(0===a.indexOf("<li")&&(c="ul"),0===a.indexOf("<tr")&&(c="tbody"),(0===a.indexOf("<td")||0===a.indexOf("<th"))&&(c="tr"),0===a.indexOf("<tbody")&&(c="table"),0===a.indexOf("<option")&&(c="select"),s=document.createElement(c),s.innerHTML=e,r=0;r<s.childNodes.length;r++)o.push(s.childNodes[r])}else for(i="#"!==e[0]||e.match(/[ .<>:~]/)?document.querySelectorAll(e):[document.getElementById(e.split("#")[1])],r=0;r<i.length;r++)i[r]&&o.push(i[r])}else if(n(e))o.push(e);else if(e.length>0&&e[0].nodeType)for(r=0;r<e.length;r++)o.push(e[r]);return new t(o)}}(),g='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24" height="24" viewBox="0 0 24 24"> <path d="M12.984 12.984v-6h-1.969v6h1.969zM12.984 17.016v-2.016h-1.969v2.016h1.969zM12 2.016q4.125 0 7.055 2.93t2.93 7.055-2.93 7.055-7.055 2.93-7.055-2.93-2.93-7.055 2.93-7.055 7.055-2.93z"></path> </svg>',y={duration:5e3,position:"bottom",type:"default",distinct:!1,mobile:p,icon:g,showCloseBtn:!p,gap:5},x=[],w=m("body"),b=w.width(),O={success:function(t,e,n){var o=f(arguments);return o.type="success",this.show(o)},error:function(t,e,n){var o=f(arguments);return o.type="error",this.show(o)},warn:function(t,e,n){var o=f(arguments);return o.type="warning",this.show(o)},info:function(t,e,n){var o=f(arguments);return o.type="info",this.show(o)},text:function(t,e,n){var o=f(arguments);return o.type="default",this.show(o)},show:function(t){t=v.extend(y,t);var e=m(document.createElement("div")),n=["toast"],o=t.title?'<div class="toast-title">'+t.title+"</div>":"",i=t.text?'<div class="toast-text">'+t.text+"</div>":"",s=t.icon;s?(n.push("toast-with-icon"),s='<div class="toast-icon">'+s+"</div>"):s="",(t.mobile||t.mobile!==!1&&y.mobile)&&n.push("toast-mobile");var a="";!t.mobile&&t.showCloseBtn&&(n.push("toast-with-close"),a='<div class="toast-close">x</div>'),e.html(s+o+i+a);var u="toast-type-"+t.type;n.push(u);var f=l(t.position);n.push(f),r(t.cls)&&n.push(t.cls),e.addClass(n),w.append(e),e.show();var p=b-30,g=e.width();g>p&&(g=e.width(p)),e.hasClass("toast-x-center")&&e.css("margin-left",(b-g)/2+"px"),t.distinct&&h(e),d(e,f);var C={$toast:e};return C.timeout=setTimeout(v.bind(this.hide,null,C),t.duration),x.push(C),e[0].onclick=function(e){return e.target.className.indexOf("toast-close")>-1?(O.hide(C),!1):void(c(t.click)&&t.click(e))},e.addClass("toast-in"),C},hide:function(t){if(!t||t.$toast.hasClass("toast-out"))return!0;clearTimeout(t.timeout);var e=t.$toast;e.addClass("toast-out"),e.transitionEnd(function(){e.remove(),v.remove(x,t),t=null})},clear:function(){x.each(this.hide)},config:function(t){y=v.extend(y,t)}};return O});